_target_: cyto_dl.datamodules.DataframeDatamodule
_convert_: all

path: /allen/aics/assay-dev/users/Alex/replearn/rep_paper/npm_perturbation/fbl-84_perturb_manifest.csv
split_column: split

batch_size: 32
num_workers: 10

transforms:
  - _target_: cyto_dl.dataframe.transforms.GroupCols
    groups:
      image: sdf_path_noalign
      cell_id: CellId
  - _target_: cyto_dl.image.io.ReadNumpyFile
    keys: [image]
    remote: false
  - _target_: monai.transforms.AddChanneld
    keys: image
  - _target_: monai.transforms.ThresholdIntensityd
    keys: [image]
    threshold: 2
    above: false
    cval: 2
  - _target_: monai.transforms.ThresholdIntensityd
    keys: [image]
    threshold: -2
    above: true
    cval: -2
  - _target_: monai.transforms.SpatialPadd
    keys: [image]
    spatial_size: [33, 33, 33]
    value: -2